<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>New Blog - The Hitchhiker&#x27;s Guide to Use-AI.rs</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Hitchhiker&#x27;s Guide to Use-AI.rs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="new-blog-and-doc-updates"><a class="header" href="#new-blog-and-doc-updates">New Blog and Doc Updates</a></h1>
<h2 id="maintainers-comment--03022025"><a class="header" href="#maintainers-comment--03022025">Maintainer's Comment | 03.02.2025</a></h2>
<h3 id="welcome-to-the-new-blog"><a class="header" href="#welcome-to-the-new-blog">Welcome to the new Blog</a></h3>
<p>As you may have noticed the new Blogs place will also will be used as entry place for the <em>Use-AI.rs</em> Documentation. This
was decided due to the fact, that it's easier to maintain a good documentation within the codebase compared to an external
Application. So, <strong>Welcome to the new Documentation!</strong> This blog will be useful to communicate changes and discuss
development decisions for future users of the Framework.</p>
<h3 id="state"><a class="header" href="#state">State</a></h3>
<p>Today I will go tough the hole Project and will discuss the decisions made. This will be structured from the highest abstraction
used in Use-AI.rs down to the lowest abstraction layers. This represents the architecture chosen.
These discussions will also be used in the Book to introduce the idea of each component.</p>
<h3 id="use-ai"><a class="header" href="#use-ai"><a href="https://github.com/Use-AIrs/Use-Ai.rs/tree/main/crates/use-ai">Use-AI</a></a></h3>
<h4 id="current"><a class="header" href="#current">Current</a></h4>
<p><em>Use-AI</em> is just a basic cli tool written with <a href="https://github.com/mikaelmello/inquire">Inquire</a>. Inquire is used since
we just want to have a nice little entry point for People who doesn't now the project and want to find out what with data
can be done with <em>Use-AI.rs</em>. Also, Inquire provides an interface which allows you to easily find the underlying functions
so you have an example of how Use-AI.rs can be used in production.</p>
<h4 id="future"><a class="header" href="#future">Future</a></h4>
<p>The Use-AI Tool is just the first tool we want to provide. In Future the goal is to provide a hole Network Server Layer.
For the Server layer we are thinking about a TCP Server. The Server should provide a load test tool for a hypothetical
Query Server. But since this is a plan in far future these are only idea's. When someone I found who can implement something
like that it may be implemented in parallel.</p>
<h3 id="store"><a class="header" href="#store"><a href="https://github.com/Use-AIrs/Use-Ai.rs/tree/main/crates/core/lib-store">Store</a></a></h3>
<h4 id="current-1"><a class="header" href="#current-1">Current</a></h4>
<p><code>lib-store</code> is the first library of the Core of <em>Use-AI.es</em>. Here we find <code>ai_config.rs</code> and <code>mangodb.rs</code>.</p>
<p><code>ai_config.rs</code>, is the entrypoint for the configuration file.</p>
<ul>
<li><code>Models</code>, will be provided by <code>lib-calculator</code> and</li>
<li><code>DataSection</code>, will be provided by <code>lib-stage</code>.</li>
</ul>
<p><code>mangodb.rs</code>, operates <a href="https://www.mongodb.com/docs/drivers/rust/current/">MangoDB</a> in synchronous.
Since we expect this Db to run on a system what also handles our data in parallel on the cpu and
since we don't have to worry about huge db requests it is decided that we only communicate
synchronised with the Db so we don't spawn threads that block building threads of performance critical features.</p>
<h4 id="future-1"><a class="header" href="#future-1">Future</a></h4>
<p>Not much will happen here. Only when the Config is expanded we will see some changes here. Some additional Db request
functions and some functions regarding Configs will be added here when needed.</p>
<h3 id="stage"><a class="header" href="#stage"><a href="https://github.com/Use-AIrs/Use-Ai.rs/tree/main/crates/core/lib-stage">Stage</a></a></h3>
<h4 id="current-2"><a class="header" href="#current-2">Current</a></h4>
<p>Here is where the construction site begins. Currently, we only have a CSV pipeline to show what the plan is with <code>lib-stager</code>.
This pipeline shows how we want to handle data on a more abstract layer. For now, we just input some csv file and handle
it from there with different operations on columns or the hole data. This is chosen because we want to reach a first complete
pass through <em>Use-AI.rs</em> using a simple XGBoost algorithm for now. Till we expanded that simple XGBoost it's called GBDT here.</p>
<h4 id="future-2"><a class="header" href="#future-2">Future</a></h4>
<p>For DQNs and Q-learning we need to expand <code>lib-stage</code>. Goal is not to only use files instead this will be used to Configure
a Data Stream which first, will enable the possibility to get Input from program external drivers and also, will add the
possibility for communication between models. But to be able to implement such features we first need to focus on the
<code>lib-calculator</code>.
The functions as they are, will be renamed in near Future.</p>
<h3 id="calculator-and-proc-macros"><a class="header" href="#calculator-and-proc-macros"><a href="https://github.com/Use-AIrs/Use-Ai.rs/tree/main/crates/core/lib-calculator">Calculator and Proc Macros</a></a></h3>
<h4 id="current-3"><a class="header" href="#current-3">Current</a></h4>
<p>Here we find the first structures of how the Gpu Backends will be called, build and executed.</p>
<p><code>lib.rs</code> gives us the first structure which needs to be provided by stage.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct MetaData {
    pub stride: Box&lt;[usize]&gt;,
    pub shape: Box&lt;[usize]&gt;,
}
<span class="boring">}</span></code></pre></pre>
<p>Every array needed for the operation needs to be provided by <code>lib-stage</code> as <code>MetaData</code> and its <code>Vec&lt;f32&gt;</code> representation.</p>
<ul>
<li><code>pub fn build(stride: Box&lt;[usize]&gt;, shape: Box&lt;[usize]&gt;) -&gt; MetaData {...}</code>: Can be used to build <code>MetaData</code>.</li>
<li><code>pub fn handle_empty&lt;R: Runtime&gt;(&amp;self) -&gt; (&amp;Self, Handle) {...}</code> builds a tuple containing <code>&amp;self</code> and a empty <code>Handle</code> of a gpu client.</li>
<li><code>pub fn handle_from_vec&lt;R: Runtime&gt;(&amp;self, input: Vec&lt;f32&gt;) -&gt; (&amp;Self, Handle) {...}</code> builds a tuple containing <code>&amp;self</code> and a filled <code>Handle</code> of a gpu client.</li>
</ul>
<p><code>model</code>'s <code>mod.rs</code> contains the <code>Operation</code> trait.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait Operation: Sized {
    type Ctx;
    type Operator;
    type Output;

    fn exec(ctx: Self::Ctx, operator: Self::Operator) -&gt; Self::Output;
}
<span class="boring">}</span></code></pre></pre>
<p>Every <code>Operation</code> needs a <code>Ctx</code>, which can be implemented trough <code>#[ctx]</code> and an Operator which needs to be implemented
trough <code>#[operator]</code>. The Operator macro allow us to build a <code>TensorHandleRef</code> tuple out of <code>GbdtHandle</code>'s which will be
used to build the <code>Operation</code> on the GPUs Kernel.</p>
<p>The Operators tuple is our representation of the Memory in the GPU. For now, <code>#[operator]</code> just builds an implementation
over a structure like</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct GbdtOperator {
    pub target: (MetaData, Handle),
    pub table: (MetaData, Handle),
    pub buffer: (MetaData, Handle),
}
<span class="boring">}</span></code></pre></pre>
<p>to build a tuple of <code>TensorHandleRef&lt;R&gt;</code> which will be lowered with <a href="https://github.com/tracel-ai/cubecl">CubeCL</a> into
the Kernel with a specific <code>Operation</code> which contains the needed Kernel of the Model.</p>
<h4 id="future-3"><a class="header" href="#future-3">Future</a></h4>
<p>In the future we will lower all implementations of <code>lib-calculator</code> into the GPU Kernel with CubeCL. The goal here is that
we <code>lib-calculator</code> also can help with standardization in <code>lib-stage</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../blog/4.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../blog/2.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../blog/4.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../blog/2.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
